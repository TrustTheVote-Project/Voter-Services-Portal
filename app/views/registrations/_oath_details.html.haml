- updating ||= false
- dmv_id_submission = AppConfig['dmv_id_submission']

.head
  %h3 Complete Your Application
  .description= I18n.t('oath.subheader')

- if updating
  .partition#ssn_details
    %p
      Please provide the your Social Security Number,
      and read the Registration Statement and Privacy Act.

    - if dmv_id_submission
      %p
        In addition, if you provide a valid DMV ID number, you may be eligible to submit
        your application online, without the requirement to print, sign, and mail an application form.

    .row
      .span10
        %label{ for: 'registration_ssn' } Social Security Number
        = f.text_field :ssn, autocomplete: ac, placeholder: 'NNN-NN-NNNN', maxlength: 11, 'data-bind' => 'visible: !noSSN(), instantValidation: { accessor: "ssn", validation: "ssn" }', class: 'span3 ssn'
        .checkbox
          = f.check_box :no_ssn, 'data-bind' => 'checked: noSSN'
          %label{ for: 'registration_no_ssn' }
            I do not have a Social Security Number
        <!-- ko if: noSSN -->
        %p= I18n.t("nossn")
        <!-- /ko -->

    - if dmv_id_submission
      <!-- ko if: !noSSN() -->
      .row
        .span10
          %label{ for: 'registration_dmv_id' } Department of Motor Vehicles ID Number
          = f.text_field :dmv_id, autocomplete: ac, maxlength: 12, 'data-bind' => 'instantValidation: { accessor: "dmvId", validation: "isDmvId" }', placeholder: 'From 9 to 12 letters or numbers', class: 'span3'
      <!-- /ko -->


.partition
  .row
    .span10
      %p
        %strong Registration Statement
      .checkbox
        = check_box :registration, :information_correct, 'data-bind' => 'instantValidation: { accessor: "infoCorrect" }'
        = f.label :information_correct, I18n.t('oath.information_correct')

<!-- ko ifnot: paperlessSubmission -->
.partition
  .row
    .span10
      %p
        %strong= I18n.t 'oath.assistance.title'
      %p= I18n.t 'oath.assistance.info'
  .row.personal-info
    .span3
      = f.label :as_first_name, 'Assistant first name'
      = f.text_field :as_first_name, autocomplete: ac, 'data-bind' => 'instantValidation: { accessor: "asFirstName" }'
    .span3
      = f.label :as_middle_name do
        Full middle
        %span (optional)
      = f.text_field :as_middle_name, autocomplete: ac, 'data-bind' => 'value: asMiddleName'
    .span3
      = f.label :as_last_name, "Last name"
      = f.text_field :as_last_name, autocomplete: ac, 'data-bind' => 'instantValidation: { accessor: "asLastName" }'
    .span2
      = f.label :as_suffix do
        Suffix
        %span (optional)
      = f.select :as_suffix, Dictionaries::NAME_SUFFIXES, { include_blank: true }, { autocomplete: ac, class: 'span1', 'data-bind' => 'value: asSuffix' }

  .row
    .span3
      .address-field
        = f.label       :as_address, "Assistant address"
        = f.text_field  :as_address, autocomplete: ac, 'data-bind' => 'instantValidation: { accessor: "asAddress1" }'
      .address-field
        = f.text_field  :as_address_2, autocomplete: ac, 'data-bind' => 'valueWithInit: asAddress2'
  .row
    .span3
      = f.label      :as_city, "City"
      = f.text_field :as_city, autocomplete: ac, 'data-bind' => 'instantValidation: { accessor: "asCity" }'
    .span2.state-field
      = f.label      :as_state, "State"
      = f.select     :as_state, Dictionaries::STATES, { include_blank: true }, { autocomplete: ac, class: 'span3', 'data-bind' => 'instantValidation: { accessor: "asState" }' }
    .span3.zip-field
      = f.label      :as_zip5, "Zip code"
      = f.text_field :as_zip5, autocomplete: ac, class: 'first-zip', 'data-bind' => 'instantValidation: { accessor: "asZip5", validation: "zip5" }', placeholder: 'NNNNN', maxlength: 5
      .space &mdash;
      = f.text_field :as_zip4, autocomplete: ac, class: 'second-zip', 'data-bind' => 'valueWithInit: asZip4', placeholder: 'NNNN', maxlength: 4
<!-- /ko --> <!-- !paperlessSubmission -->
