.head
  %h3= I18n.t('residence_address').capitalize
  .description
    Please confirm your #{I18n.t('residence_address').downcase}. If it is not correct, please update now.

.row
  .span3
    .address-field
      = f.label :vvr_address_1, "Address"
    .checkbox
      = f.check_box :vvr_is_rural
      = f.label :vvr_is_rural, I18n.t('rural')
    .address-field
      = f.text_field :vvr_address_1, autocomplete: ac, 'data-bind' => 'instantValidation: { accessor: "vvrAddress1" }, valueUpdate: "afterkeyup"'
    .address-field
      = f.text_field :vvr_address_2, autocomplete: ac, 'data-bind' => 'valueWithInit: vvrAddress2'

.row
  .span3
    %label{ for: 'registration_vvr_county_or_city' } County or city
    = f.select :vvr_county_or_city, Office.localities, { include_blank: true }, { class: 'span3', 'data-bind' => 'instantValidation: { accessor: "vvrCountyOrCity" }' }
  .span3
    <!-- ko if: vvrCountySelected -->
    %label{ for: 'registration_vvr_town' } Town
    = f.text_field :vvr_town, { 'data-bind' => 'instantValidation: { accessor: "vvrTown" }' }
    <!-- /ko -->
    <!-- ko if: !vvrCountySelected() -->
    &nbsp;
    <!-- /ko -->
  .span2.state-field.short
    %span State
    VA
    = f.hidden_field :vvr_state, 'data-bind' => 'instantValidation: { accessor: "vvrState" }'
  .span2.zip-field
    %label{ for: 'registration_vvr_zip5' } Zip code
    = f.text_field :vvr_zip5, class: 'first-zip', 'data-bind' => 'instantValidation: { accessor: "vvrZip5" }', placeholder: 'NNNNN', maxlength: 5
    .space &mdash;
    = f.text_field :vvr_zip4, class: 'second-zip', 'data-bind' => 'value: vvrZip4', placeholder: 'NNNN', maxlength: 4
<!-- /ko -->

<!-- ko if: overseas -->
.row
  .span12
    .radio
      = radio_button :registration, :vvr_uocava_residence_available, '1', { 'data-bind' => 'checked: vvrOverseasRA' }
      %label My Virginia residence is still available to me
    .radio
      = radio_button :registration, :vvr_uocava_residence_available, '0', { 'data-bind' => 'checked: vvrOverseasRA' }
      %label My Virginia residence is no longer available to me
<!-- ko if: vvrOverseasRA() == '0' -->
.row
  .span12
    %span My last date of residence at the above address was:
    = bound_date f, :vvr_uocava_residence_unavailable_since, { }, class: 'date'
<!-- /ko -->
<!-- /ko -->

